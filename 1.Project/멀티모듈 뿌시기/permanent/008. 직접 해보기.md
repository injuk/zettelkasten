> [!success] 이벤트 스토밍 워크숍
> 워크숍 결과 [[이벤트 스토밍.canvas|요런]] 결과물이 산출되었음!
### 문서 애그리거트 관련
#### 엔티티
##### 문서(루트)
```kotlin
interface Document {
	val id: Long
	val name: String
	val content: Content // 같은 애그리거트 내에서는 약한 참조가 필요 없지 않을까
	val metadata: Metadata
	// ...더 정의 필요

	fun create(): Long
	fun get(): Document
	fun list(): List<Document>
	fun update(): Unit
	fun delete(): Unit

	fun downloaodContent(): URL // content에 포워딩
	fun uploadContent(): URL // content에 포워딩
}
```
##### 문서 본문
```kotlin
interface Content {
	val id: Long
	val url: String
	// ...더 정의 필요

	fun create(): Long
	fun get(): Content
	fun update(): Unit
	fun delete(): Unit

	fun download(): URL // url 기반의 본문 다운로드
	fun upload(): URL // url 기반의 본문 업로드
}
```
#### VO
##### 메타데이터
```kotlin
data class Metadata(
	val tags: List<String>
	val category: String
	// ...더 정의 필요
)
```
---
### 아카이브 애그리거트 관련
#### 엔티티
##### 아카이브(루트)
```kotlin
interface Archive {
	val id: Long
	val documentId: Long // 애그리거트 간의 루트 참조는 식별자를 기반으로
	// ...더 정의 필요

	fun create(): Long
	fun get(): Archive
	fun list(): List<Archive>
	fun restore(): Unit // delete 역할이지만, restore 라는 이름이 더 적절할 듯
}
```