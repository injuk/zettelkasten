> **A**synchronous **J**avaScript **A**nd **X**ML

>[!success] AJAX란?
>브라우저 따위의 클라이언트가 서버와 통신할 때, XML이나 JSON 및 일반 텍스트 등의 **데이터를 비동기적으로 교환하는 기법 전반을 의미하는 개념적인 용어**

'에이젝스'로 발음한다.
상술한 두문자어에 따라 해석할 경우 마치 다음과 같은 기술에 종속된 개념처럼 보일 수 있다:
- JavaScript 진영에서'만' 사용되는 개념처럼 보임
- XML을 활용한 경우'만' 지칭할 것처럼 보임
그러나 AJAX는 특정 기술이나 언어에 종속되는 용어가 아니며, 최근 실무에서는 XML보다 JSON 형식이 훨씬 많이 사용됨에도 여전히 AJAX라는 용어가 사용되고 있다.
이렇듯 용어의 의미와 실무간의 차이가 있기 때문에, **최근에는 사실상 고유 명사로 취급**한다.

---
### 등장 배경
#### 옛날에는...
AJAX 이전에는 웹 브라우저가 서버에 어떠한 정보를 요청하는 경우 다음과 같은 **동기식 처리 방식**의 흐름에 따랐다.
1. 웹 브라우저는 서버에 '어떠한 정보'를 요청한다.
2. 서버는 '어떠한 정보' 뿐만 아니라 HTML을 포함하는 페이지 전체를 생성한다.
3. 서버는 2.의 결과를 웹 브라우저에 반환한다.
4. 웹 브라우저는 서버로부터 반환받은 '어떠한 정보'를 포함하는 HTML을 다시 렌더링한다.
##### 문제점
- 웹 브라우저의 관점에서, 페이지에 포함하기 위한 **'어떠한 정보'의 일부만 변경되더라도 모든 페이지를 다시 렌더링**해야 한다.
- 서버의 관점에서, 요청 받은 것은 '어떠한 정보' 뿐임에도 매번 새로운 페이지를 생성해야 한다.
즉, 웹 브라우저와 서버 모두 필요 이상의 부담을 갖게 되며 사용자 역시 정보를 요청할 때마다 페이지가 다시 렌더링되므로 화면이 번쩍거리는 현상을 겪게 된다.
웹 환경이 성숙해감에 따라, 이러한 현상은 UX를 저하시키는 직접적인 원인이 되었으므로 이를 개선하기 위한 새로운 통신 기법의 필요성이 대두되었다.
#### 해결책(AJAX)
> [!note] AJAX는 임의의 웹 페이지에 대해 디자인(HTML, CSS) 요소와 정보 요소를 분리한다.

웹 브라우저는 서버로부터 반환 받은 HTML과 CSS 등의 디자인 요소와, 각각의 정보 요소를 획득하는 방법을 기술한 JavaScript를 반환 받는다.
디자인 요소를 기반으로 기본적인 레이아웃을 렌더링한 후, JavaScript를 통해 임의의 정보 요소를 획득하여 렌더링된 페이지에 끼워 넣는다.

>[!note] fun fact
>AJAX는 Jesse에 의해 명명되었만, Jesse가 AJAX에 필요한 모든 기능을 제작한 것은 아니다.
>AJAX와 이에 필요한 모든 기능들은 이미 성숙하여 Gmail, Google Maps 등의 서비스에 대해 사용되고 있던 개념이며, 단지 뚜렷한 이름이 없었기에 Jesse가 AJAX라는 이름을 IT 업계에 제안한 것에 가깝다.

---
### 활용하기
#### 구성 요소
> [!note] AJAX는 여러 기술이 조합된 개념에 가깝다.

초기 AJAX가 제안되었을 때, AJAX는 다음과 같은 요소의 조합을 의미했다:
- HTML / CSS와 같은 UI 요소
- `XMLHttpRequest`와 같은 비동기 데이터 요청 객체
	- `XMLHttpRequest`는 AJAX만을 위해 고안된 객체가 아니며, AJAX 이전부터 존재했다!
- `XML`와 같이, 서버와 합의된 데이터 교환 양식
- DOM 조작
- 상술한 모든 것을 조합하는 JS
#### 동작 원리
1. 임의의 페이지에 처음 접속할 경우, 서버는 해당 페이지의 디자인 요소인 HTML과 CSS 파일에 더해 **각 데이터를 어떻게 요청할지를 설명하는 JavaScript 파일을 함께 반환**한다.
2. 웹 브라우저는 1.의 결과에 따라 기본적인 페이지 레이아웃을 렌더링한다.
3. 웹 브라우저는 1.의 결과에 포함된 JavaScript를 실행하여 필요한 '어떠한 정보'를 서버에 요청한다.
4. 서버는 **'어떠한 정보'만을 의미하는 데이터를 JSON이나 XML 등의 순수한 데이터 객체로 반환**한다.
5. 웹 브라우저는 4.의 결과로 반환된 순수한 데이터 객체를 2.의 결과로 생성된 페이지에 끼워넣는다.

> [!note] 실무에서...
> 회의 도중 다른 개발자가 'AJAX로 데이터 뿌려주면 되잖아요?'라는 표현을 썼다고 하자.
> 이는 그저 '서버에서 비동기적으로 데이터를 조회해서 응답 결과로 DOM을 조작하면 되잖아요?'라는 뜻에 지나지 않는다.
> 물론 개발자들이 홍대병이 있어서 어려운 말을 쓰는건 아니고, 길게 설명해야할 문장을 한 단어로 표현할 수 있다는 점에서 이러한 개발 용어는 큰 의의를 갖는다. 즉, 덜 귀찮다!
#### 사용 방법
> [!warning] 주의사항
> - AJAX는 특정한 기술 하나를 지칭하는 것이 아닌, 비동기 데이터 교환 기법 전반을 의미한다!
> - 즉, **AJAX라는 객체나 라이브러리가 따로 있는 것이 아니다!**
##### 브라우저
가장 전통적인 `XMLHttpRequest`로부터 현대적인 `fetch` API 까지 AJAX 방식을 활용하는 구체적인 기술은 다양하다.
나아가, AJAX는 페이지를 새로고침하지 않고도 데이터를 갱신하는 SPA의 핵심 기술로서 현대적인 SPA는 사실상 필수적으로 AJAX를 사용한다고 볼 수 있다.
##### 서버에서도?
상술한 내용에서 알 수 있듯, AJAX는 브라우저 환경에서 동작하는 애플리케이션의 개발과 관련이 있다.  때문에 `Node.js`와 같은 서버 환경에서는 일반적으로 AJAX라는 표현 자체를 사용하지 않는 반면, 비동기적 처리를 위해서는 여전히 관련된 비동기 요청 모듈 또는 라이브러리를 활용한다.

---
### 부록
#### AJAX의 단점
- AJAX는 페이지를 여러 번의 요청에 걸쳐 동적으로 렌더링하므로, 첫 화면을 신속하게 보여줄 수 없다.
	- 이 경우, SSR 적용을 고려해볼 수 있다.
- AJAX는 비동기적으로 데이터를 조회하므로, SEO 최적화가 어렵다.
	- 이 경우, SSR 적용을 고려해볼 수 있다.
- AJAX의 요청이 많아지는 경우 여전히 서버에 부담을 줄 수 있음.
	- 이 경우, `WebSocket`이나 `Server-Sent Event`와 같은 대체 기술을 고려해볼 수 있다.
#### FAQ
- AJAX는 HTTP인가? => **NO!**
	- AJAX는 비동기적으로 데이터를 주고받는 방식을 의미하는 개념적인 용어이다.
	- '일반적으로' HTTP 요청을 활용하지만, 구현체에 따라서는 다른 프로토콜을 사용할 수도 있음.
	  즉, 일반적으로 HTTP를 사용하지만, 반드시 그렇지는 않다.
- 그렇다면 HTTP는 AJAX인가? => **NO!**
	- HTTP는 클라이언트와 서버가 데이터를 주고받는 프로톨이며, AJAX보다 훨씬 큰 개념이다.
---
### 요약
#### AJAX란?
- 브라우저가 서버로부터 데이터를 비동기적으로 교환하는 기법 전반.
- 페이지를 새로고침하지 않더라도 서버와 비동기적으로 데이터를 주고받을 수 있도록 하는 기술.
- 초기 `XMLHttpRequest`부터 현재의 `fetch` API 등등 다양한 기술이 AJAX 방식을 사용함.
#### AJAX의 장점
- 브라우저와 서버 모두의 부담을 줄이면서도 SPA의 핵심 기술로서 사용자 경험을 더욱 개선함.
#### AJAX의 단점
- SEO 최적화가 어렵고, 요청이 많아질수록 서버에 부하를 줄 수 있음.