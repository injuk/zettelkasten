## 통합점
### 게이트웨이란?
- 서로 다른 프로토콜을 사용하는 두 시스템 사이의 중개자
	- 프록시는 서로 같은, 즉 HTTP를 사용하는 두 시스템 간의 중개자
	- 때문에 프록시가 캐싱 등의 혜택을 주는 데에 초점을 둔다면, 게이트웨이는 통역에 초점을 둠
- 그렇다면 현대에서는? **프록시와 구분이 모호**해졌다!
	- 최근 엔지니어들이 사용하는 '게이트웨이'라는 용어는...
		1. API Gateway - 프로토콜 변환 뿐만 아니라 인증 / 라우팅 / Rate limiting / 로깅 등 진입점 역할
		2. 네트워크 게이트웨이 - 네트워크 엔지니어라면 서로 다른 네트워크를 연결하는 통로(일반적으로 공유기)를 의미
	- 즉, 현대에서는 '프로토콜 변환'은 게이트웨이 역할의 아주 일부가 되었음!
- 이렇듯 현대에는 프록시와 게이트웨이를 딱딱 나누기 모호해졌다.
	- 과거에는 프록시 전용 애플리케이션, 게이트웨이 전용 애플리케이션이 있었을지 모르지만
	  Nginx 등 현대적 도구 리버스 프록시 / 웹 서버 / 프로토콜 변환 등을 '모두 잘한다!'
	- 그렇다면 각 용어는 언제, 어떻게 사용해야 할까? 관점의 차이!
		1. '중간에서 혜택을 준다'는 관점 -> 캐싱, 보안 등의 용도라면 '프록시'
		2. '여기를 통해야만 한다'는 관점 -> 시스템 진입점, 프로토콜 변환 등의 용도라면 '게이트웨이'

### 리소스 게이트웨이란?
- 서버로부터 파일이 아닌, 무언가 처리한 후 그 결과를 임의의 리소스 형태로 반환 받기 위해 API를 사용하는 형태
	- 예를 들어, 웹 서버가 DB로부터 데이터를 읽어 반환한다면 HTTP -> SQL로의 통역(게이트웨이)에 더해 리소스를 반환하므로 리소스 게이트웨이가 된다.
- CGI: 웹 서버가 요청을 받으면, 매번 새로운 프로세스를 실행하여 응답 -> 요청이 많을수록 비효율적
- 그렇다면 현대에서는? 단어는 사용되지 않지만, 그 개념은 살아 있다!
	- WAS: Spring 등은 HTTP 요청에 대비하여 떠 있는 상태로 유지한다. 즉, FastCGI 형태이다!
	- FaaS: AWS Lambda 등은 현대판 CGI로 이해할 수 있으며, 요청이 있을 때만 잠깐 코드를 실행하고 사라진다.
	- 백엔드 서버: DB에 대신 연결하는, 일종의 리소스 게이트웨이
- 즉, 현대에서는 '비즈니스 로직을 수행하거나, 쿼리를 실행한 후 JSON과 같은 데이터나 동적 컨텐츠를 반환하는 것'이 리소스 게이트웨이이다. 근데 그게 백엔드 서버임 ㅋㅋ;

### 터널이란?
- HTTP를 활용하여 HTTP가 아닌 데이터를 담아 보내는 통로
- 그렇다면 현대에서는? **현대 웹의 근간**이다!
	- HTTPS는 사실상 터널링의 응용으로 이해할 수 있다. 중간 프록시가 데이터를 볼 수 없기 때문!
	  (책의 'SSL 터널링' 개념이 바로 이것이다)

### 릴레이란?
- HTTP 명세를 완전히 준수하지는 않는 '멍청한 프록시'
	- 구현이 쉽기에 단순 필터링이나 컨텐츠 변환 용도로만 사용
- 그렇다면 현대에서는? **유물**이다!
	- 상술한 Nginx 등이 너무 똑똑하고, HTTP 표준을 완벽히 반영하고 있다.
	- 때문에 '릴레이'라는 통합점은 사실상 유물이 되었고, 대신 '데이터를 A에서 B로 넘긴다'는 의미의 동사형 의미로만 사용된다.

## 웹 로봇
### 웹 로봇이란?
- 크롤러나 스파이더 등, 링크를 타고 재귀적으로 웹을 탐색하는 소프트웨어 전반을 가리킨다.
- '재귀'라는 말에서도 알 수 있듯, '순환'에 대비할 필요가 있다.
	- 일반적으로, 방문한 URL을 기억하고 다시 방문하지 않는 형태로 동작한다
- 웹 로봇은 다음과 같은, 일종의 `매너`를 지켜야 한다.
	1. 웹 로봇 역시 일종의 HTTP 클라이언트이므로, 웹 서버에게 '나는 누구인지' 명확히 밝힌 후에 동작해야 한다.
	2. `robots.txt`를 자발적으로 준수해야 한다.
- 현대에는?
	- `sitemap.xml`: `robots.txt`가 '여기는 확인하지 마라!'라는 의미라면, `sitemap.xml`은 '우리 사이트 지도는 이거니까, 이대로 긁어가라!'를 의미한다.
- 난 매너 없는데요? 
	- 능동적 방어 체계
		- Rate limit: 특정 IP에서 너무 많은 요청이 들어오면, 서버는 일시적 / 또는 영구적으로 이를 차단
		- WAF: 현대적 보안 장비는 패턴을 분석하고, 사람이 클릭하는건지 / 기계적인 움직임인지 판단 가능
		- 로봇이 아닙니까?: 캡챠 등의 서비스를 통해 나쁜 로봇을 방지
		- 봇 방어 서비스: Cloudflare, Akamai 등의 대형 보안 서비스는 이걸로 밥 벌어 먹고 산다
	- 분탕치기엔 너무 큰 돈이었다: 소송으로 천문학적인 배상금을 물어야할 수 있다.
		- 뉴욕 타임즈의 OpenAI 고소
		- 메타의 Voyager Labs 고소
	- 애초에 분탕을 치는건 손해다: 나쁜 로봇이든 좋은 로봇이든, 데이터를 수집하는 것 자체가 목적이므로 서버를 파괴하는 것은 자가당착이다.
	- 이렇듯 웹 로봇에 의해 세상이 망가지지 않는 것은 '사람들이 착해서'가 아니라, 창이 방패를 뚫기 때문이다.
- 개인이 작성한 웹 로봇은 어떨까?
	- 공식 API가 있다면 그걸 쓰고, 크롤링은 하지 마라
	- HTTP 헤더 잘 쓰고, `robots.txt` 잘 지키고, 요청을 주기적으로 보내고, 공개된 데이터만 긁으면 어느 정도는 괜찮다.
	- 크롤러 만들고 그걸로 돈 벌 생각은 마라

## HTTP/2.0
### HTTP/2.0이란?
- 태생적으로 느린 HTTP/1.1의 한계를 벗어나 스트림, 멀티플렉싱, 헤더 압축 등을 활용하여 효율을 높인 프로토콜
- 현대에서는?