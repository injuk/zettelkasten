> SW의 복잡성을 줄이고, 유지보수성과 테스트 용이성을 높이기 위해 로버트 C. 마틴이 제안한 SW 설계 철학

>[!success] 핵심 목표
>애플리케이션에서 가장 핵심적인 비즈니스 로직을 UI나 DB와 같은 외부 요소로부터 완전히 격리시키는 것
### 그런데, 아키텍쳐가 뭘까?
> 아키텍쳐는 시스템을 구축하는 개발자들이 제안하는 시스템의 형태이다.
- 아키텍쳐의 궁극적인 목적은 시스템의 정상성이 아닌, 생산성과 유지보수성의 최대화에 있다.
- 즉, 좋은 아키텍쳐는 생산성을 최대화하면서도 시스템의 생명주기에 드는 비용을 최소화한다.
### 클린 아키텍쳐의 구성
- 클린 아키텍쳐는 겹겹이 쌓인 원형 구조로 설명할 수 있으며, 이로 인해 동심원 아키텍쳐라는 용어로도 지칭한다.
![[Pasted image 20251213153957.png]]
- 엔티티 계층은 가장 핵심적인 업무 규칙인 도메인을 기술한다.
	- 예: `User` 객체의 구조 / 핵심 계산 로직 
- 유즈케이스 계층은 엔티티 계층을 활용하여 행위 흐름을 기술하는 것으로 자동화된 절차를 정의한다.
	- 예: 계좌 이체, 상품 주문 등 행위 흐름
- 인터페이스 어댑터: 내부 동심원이 사용하는 형식을 DB나 UI와 같은 외부 구현체에 편리한 형태로 변환한다.
	- 예: 컨트롤러, 프리젠터, 게이트웨이 인터페이스
- 프레임워크 & 드라이버: 모든 세부적인 기술 사항이 정의되며, DB나 UI와 같은 도구의 집합이다.
	- 예: MySQL, Web과 같은 도구 / Spring, React와 같은 프레임워크 & 라이브러리
>[!note] 엔티티와 유즈케이스의 차이
>- 엔티티는 데이터와 규칙이 결합되며, 가장 순수하지만 유용한 기능을 제공할 수는 없다.
>- 유즈케이스는 엔티티를 활용하는 행위 흐름을 정의하므로 시스템의 사용방법을 묘사할 수 있다.
>- 세 살배기도 이해하는 설명: 엔티티가 식재료라면 유즈케이스는 요리 방법이다.
### 클린 아키텍쳐의 핵심 규칙
>[!warning] 주의사항
>- 클린 아키텍쳐는 설계 철학, 또는 규칙이므로 명확히 정해진 세부 사항이 없다.
>- 때문에 '이런 패키지 구조만이 클린 아키텍쳐야!'와 같은 주장은 엄밀히 말해 근거가 없다.
#### 의존성 규칙
> 클린 아키텍쳐의 핵심으로, 모든 의존성은 반드시 동심원 내부로 향해야 하는 것을 의미한다.
- 안쪽 동심원은 바깥 동심원의 존재를 모르며, 알 필요도 없어야 한다.
- 바깥 동심원은 내부를 알아야만 한다.
이러한 **의존성 규칙을 준수할 경우, DB나 UI가 변경되더라도 내부 규칙을 수정할 필요가 없다**.
### 클린 아키텍쳐의 장단점
#### 장점
- DB, UI 설정 없이 비즈니스 로직만을 테스트할 수 있으므로 테스트 가능성이 높아진다.
- DB, UI 등의 세부 사항에 의존하지 않으므로 이를 언제든지 쉽게 갈아치울 수 있다.
	- 예를 들어, 기반 DB가 MongoDB에서 MySQL로 변경되더라도 수정은 최소화된다.
	- 또는 React 기반의 애플리케이션을 손쉽게 Android 기반으로 전환할 수 있다.
- 프레임워크, 라이브러리 조차 도구로 사용되므로 이에 시스템을 끼워넣을 필요가 없다.
	- 엄격한 클린 아키텍쳐를 따른 소프트웨어는 기반 프레임워크가 Express에서 Nest.js로
	  변경되더라도 내부 동심원을 수정할 필요 없어야 한다.
#### 단점
- 구현에 필요한 파일 / 클래스 수가 늘어나는 등 복잡성이 높아진다.
	- 즉, 초기 구현 비용이 높다.
- 의존성 역전 원칙과 같은 객체 지향 설계 원칙에 익숙해야 한다.